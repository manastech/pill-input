<!DOCTYPE html>
<html>
<head>
  <title>mBuilder</title>
  <link rel="stylesheet" type="text/css" href="style.css">
  <link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
  <script type="text/javascript" src="textInput.js"></script>
</head>
<meta charset="utf-8">
<body>
</body>
<script>

  function Example(title, className, content) {
    var example = document.createElement("div");
    example.className = "example";
    var header = example.appendChild(document.createElement("h1"));
    header.textContent = title;
    var textInput = example.appendChild(document.createElement("div"));
    textInput.className = className;
    textInput.contentEditable = "true";
    textInput.innerHTML = content;
    var dropZone = example.appendChild(document.createElement("div"));
    dropZone.className = "dropZone";
    var button =  example.appendChild(document.createElement("button"));
    button.className = "pillButton";
    button.textContent = "Create pill";
    button.style.display = "none";
    this.source = example;
  }

  window.onload = function() {
    var body = document.body;
    body.appendChild(new Example("Input (resizable)", "input resize", "Lorem ipsum " + new Pill("dolor sit").source.outerHTML + " amet").source);
    body.appendChild(new Example("Input (autoexpand)", "input autoexpand", "Lorem ipsum " + new Pill("dolor sit").source.outerHTML + " amet").source);
    body.appendChild(new Example("Input (khmer)", "input", "ជាណាចក្រកម្ពុជា " + new Pill("ព្រះរា").source.outerHTML + " កម្ពុជា").source);
    body.appendChild(new Example("Input (chinese)", "input", "滆, 駇僾 踆 耜僇鄗 鏀顝饇 芘芛芤 岪弨 蔏 儮嬼懫 " + new Pill("厊圪妀").source.outerHTML + " 鴸鼢曘").source);
    body.appendChild(new Example("Input (hebrew)", "input rtl", "את אל בקרבת יוצרים בהיסטוריה " + new Pill("היסטוריה").source.outerHTML + " ב צ'ט בחירות מיתולוגיה").source);
    document.addEventListener("dragstart", dragStartHandler);
    document.addEventListener("dragend", dragEndHandler);
    document.addEventListener("dragenter", dragEnterHandler);
    document.addEventListener("dragleave", dragLeaveHandler);
    document.addEventListener("dragover", dragOverHandler);
    document.addEventListener("drop", dropHandler);
    document.addEventListener("keydown", keyDownHandler);
    document.addEventListener("keyup", keyUpHandler);
    document.addEventListener("contextmenu", clickHandler);
    document.addEventListener("click", clickHandler);
    document.addEventListener("mousedown", mouseDownHandler);
    document.addEventListener("blur", blurHandler, true);
    document.addEventListener("copy", copyHandler);
    document.addEventListener("cut", cutHandler);
    document.addEventListener("paste", pasteHandler);
  }
  
</script>
</html>